
public void configure(StateMachineTransitionConfigurer<CurrentAdvanceState, AdvanceEvent> transitions)
    throws Exception {
    transitions
        .withExternal()
        .source(CurrentAdvanceState.NEW).target(CurrentAdvanceState.DOCS_LOADED).event(AdvanceEvent.LOAD_DOCS)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.NEW).target(CurrentAdvanceState.TRUCK_LOADED).event(AdvanceEvent.COMPLETE_LOADING)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.DOCS_LOADED).target(CurrentAdvanceState.ACTIVE).event(AdvanceEvent.COMPLETE_LOADING)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.TRUCK_LOADED).target(CurrentAdvanceState.ACTIVE).event(AdvanceEvent.LOAD_DOCS)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.ACTIVE).target(CurrentAdvanceState.SENT).event(AdvanceEvent.SEND_UNF)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.SENT).target(CurrentAdvanceState.PAID).event(AdvanceEvent.PAY)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.NEW).target(CurrentAdvanceState.CANCELLED).event(AdvanceEvent.CANCEL)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.TRUCK_LOADED).target(CurrentAdvanceState.CANCELLED).event(AdvanceEvent.CANCEL)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.DOCS_LOADED).target(CurrentAdvanceState.CANCELLED).event(AdvanceEvent.CANCEL)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.ACTIVE).target(CurrentAdvanceState.CANCELLED).event(AdvanceEvent.CANCEL)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.SENT).target(CurrentAdvanceState.CANCELLED).event(AdvanceEvent.CANCEL)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.PAID).target(CurrentAdvanceState.CANCELLED).event(AdvanceEvent.CANCEL)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.NEW).target(CurrentAdvanceState.PROBLEM).event(AdvanceEvent.SET_COMMENT)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.TRUCK_LOADED).target(CurrentAdvanceState.PROBLEM).event(AdvanceEvent.SET_COMMENT)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.DOCS_LOADED).target(CurrentAdvanceState.PROBLEM).event(AdvanceEvent.SET_COMMENT)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.ACTIVE).target(CurrentAdvanceState.PROBLEM).event(AdvanceEvent.SET_COMMENT)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.SENT).target(CurrentAdvanceState.PROBLEM).event(AdvanceEvent.SET_COMMENT)
        .and()
        .withExternal()
        .source(CurrentAdvanceState.PAID).target(CurrentAdvanceState.PROBLEM).event(AdvanceEvent.SET_COMMENT);
}
